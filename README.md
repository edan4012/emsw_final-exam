# 스마트 환경 모니터링 및 환풍기 제어 IoT 시스템

**Final Report — 임베디드 소프트웨어 기말 프로젝트**
작성자: **손충락**

---

## 1. 프로젝트 개요

본 프로젝트는 **Arduino 기반의 센서 데이터 모니터링 및 환풍기 제어 IoT 시스템**을 구현하는 것을 목표로 한다.
Arduino에서 수집된 환경 정보를 Processing 서버를 거쳐 스마트폰(App Inventor)까지 전송하며, 스마트폰에서 다시 Arduino의 팬을 제어할 수 있는 **양방향 통신 구조**를 구축하였다.

---

## 2. 프로젝트 목표

1. **환경 센서 데이터 실시간 모니터링**

   * 온도·습도(DHT11), 가스 농도(MQ2)

2. **스마트폰 원격 제어 기능 구현**

   * 팬(환풍기) ON/OFF 제어

3. **Processing 기반 서버 구축**

   * Arduino와 스마트폰 앱을 중계하는 역할

4. **데이터 흐름 구조 완성**

   * Arduino ↔ Processing ↔ 스마트폰 간의 안정적인 양방향 통신

---

## 3. 전체 시스템 구성도

```
[센서 / 팬] 
      ↓ 
  Arduino 
      ↓ (Serial)
 Processing 서버 
      ↓ (Wi-Fi)
 스마트폰(App Inventor)
```

**구성 요소 연결 흐름**

| 구성 요소              | 역할                        |
| ------------------ | ------------------------- |
| 센서(DHT11, MQ2)     | 환경 정보 수집                  |
| Arduino Uno        | 센서 데이터 수집 및 팬 제어          |
| Processing         | 서버(중계), Serial ↔ Wi-Fi 전송 |
| 스마트폰(App Inventor) | 실시간 모니터링 및 제어 UI          |

---

## 4. 구현 기능

### 4.1 모니터링 기능

* DHT11 센서로 **온도/습도 측정**
* MQ2 센서로 **가스 농도 측정**
* Arduino → Serial → Processing → 스마트폰으로 데이터 전달
* 스마트폰 앱에서 실시간 센서값 확인 가능

**데이터 전송 예시 포맷**

```
T:24; H:45%; G:180
```

---

### 4.2 제어 기능

* 스마트폰 앱의 **팬 ON/OFF 버튼** 동작
* 명령 흐름:

```
스마트폰 → Processing 서버 → Arduino → 팬 제어
```

* Arduino는 수신된 명령에 따라 릴레이를 통해 팬 전원 ON/OFF 수행

---

## 5. 하드웨어 및 소프트웨어 구성

### 하드웨어

| 부품           | 용도             |
| ------------ | -------------- |
| Arduino Uno  | 시스템 메인 제어      |
| DHT11 온습도 센서 | 온도·습도 측정       |
| MQ2 가스 센서    | 가스 농도 측정       |
| DC 팬         | 환풍기 역할         |
| 릴레이 모듈       | 팬 전원 제어        |
| 점퍼 케이블       | 회로 연결          |

---

### 소프트웨어

| 소프트웨어            | 용도                |
| ---------------- | ----------------- |
| Arduino IDE      | 센서 제어 및 Serial 통신 |
| Processing       | 서버 역할 및 중계        |
| MIT App Inventor | 스마트폰 UI/UX 개발     |

---

## 6. 시스템 구현 상세

### 6.1 Arduino 구현

* DHT11, MQ2를 주기적으로 측정
* Serial로 데이터 전송
* Processing에서 넘어온 제어 명령 수신 후 팬 제어

**주요 기능**

* `bluetooth.begin(9600)` 또는 `Serial.begin(9600)` 기반 양방향 통신
* 릴레이 제어(pin HIGH/LOW)
* 데이터 패킷 포맷 변환

---

### 6.2 Processing 서버 구현

* Arduino Serial 포트와 스마트폰 간 **브릿지 역할**
* HTTP 통신 방식 사용
* 스마트폰 → Arduino 명령 전달
* Arduino 센서값 → 스마트폰 실시간 전송

**주요 기능**

* Serial.read() / Serial.write()
* 서버 소켓 생성 및 통신

---

### 6.3 App Inventor 구현

* 실시간 센서값 표시 라벨 구성
* 팬 ON/OFF 버튼
* Processing 서버 통신 블록 구성
* 센서값 자동 갱신 Timer 사용

---

## 7. 시연 결과 

예시:
* 온도: **24C**
* 습도: **45%**
* 가스: **180**
* 팬 ON 버튼 동작 후 처리 시간: **1s 이내**

---

## 8. 기대 효과

* Arduino–Processing–스마트폰을 연동한 **완성형 IoT 시스템 구축 경험**
* 실시간 모니터링 및 제어 구조에 대한 이해 심화
* IoT 서비스 개발의 **기본 아키텍처 체험**
* 센서 네트워크, 직렬 통신, Wi-Fi 통신 등 **네트워크 프로그래밍 경험 축적**
* 실제 생활 환경 개선용 IoT 디바이스의 프로토타입 구현 가능

---
